:root {
  --primary: #2b8a3e;
  --secondary: #1e3a8a;
  --accent: #f59e0b;
  --bg: #0f172a;
  --card: #111827;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --border: #374151;
  ----bg-primary: #252;
  ----bg-secondary: #2E3;
  ----bg-tertiary: #3B4;
  ----bg-quaternary: #434;
  ----bg-elevated: #4C5;
  ----border-primary: #4C5;
  ----border-secondary: #5E8;
  ----text-primary: #ECE;
  ----text-secondary: #D8D;
  ----text-tertiary: #B8C;
  ----text-muted: #88C;
  ----accent-primary: #5E8;
  ----accent-primary-hover: #81A;
  ----accent-primary-pressed: #4C6;
  ----accent-primary-light: #A3C;
  ----accent-success: #A3B;
  ----accent-success-hover: #B5D;
  ----accent-warning: #EBC;
  ----accent-warning-hover: #F0D;
  ----accent-error: #BF6;
  ----accent-error-hover: #D08;
  ----accent-info: #88C;
  ----accent-info-hover: #9FC;
  --background-color: #4C6A94;
  --color: #252A35;
  --border-color: #4C6A94;
  --selection-background-color: #5E81AC;
  --selection-color: #ECEFF4;
  --border-top-color: #4C6A94;
  --alternate-background-color: #3B4252;
  --gridline-color: #4C566A;
  --background: #4C566A;
}

* { box-sizing: border-box; }
body { margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; background: var(--bg); color: var(--text); }
.card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
.btn { background: var(--primary); color: white; border: none; padding: 10px 16px; border-radius: 10px; cursor: pointer; transition: background-color .15s ease, box-shadow .15s ease, transform .02s ease, filter .15s ease; }
.btn:hover { filter: brightness(1.05); }
.btn:active { filter: brightness(0.93); transform: translateY(1px); }
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(43,138,62,.45); }
.btn.secondary { background: var(--secondary); }
.btn.secondary:hover { filter: brightness(1.05); }
.btn.secondary:active { filter: brightness(0.93); transform: translateY(1px); }
.btn.secondary:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(30,58,138,.45); }
.muted { color: var(--muted); }
/* Enlace de volver al inicio (icono + texto) */
.back-link {
  display: inline-flex;
  align-items: center;
  color: var(--muted);
  text-decoration: none;
}
.back-link.icon-only {
  padding: 4px;
  border: none;
  background: transparent;
}
.back-link.icon-only img {
  width: 18px;
  height: 18px;
  opacity: 0.85;
}
.back-link.icon-only:hover img {
  opacity: 1;
}
/* Ajuste móvil: icono más pequeño y padding reducido */
@media (max-width: 480px) {
  .back-link.icon-only { padding: 2px; }
  .back-link.icon-only img { width: 10px; height: 10px; }
}
/* Unificar apariencia de inputs y selects en toda la UI */
input, select, textarea { background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px; }
input::placeholder, textarea::placeholder { color: var(--muted); }
.control, .input { background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px; }
input:hover, select:hover, textarea:hover, .control:hover, .input:hover { border-color: var(--accent); }
input:focus, select:focus, textarea:focus, .control:focus, .input:focus { outline: none; border-color: var(--primary); }
.panel-controls label { display: inline-flex; align-items: center; gap: 8px; }

/* Rutinas: grid por días y tiles de ejercicios */
#rutina-preview-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; align-items: start; }
.day-col { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 10px; display: flex; flex-direction: column; gap: 8px; min-height: 220px; }
.day-header { display: flex; align-items: center; justify-content: space-between; font-weight: 600; color: var(--text); padding-bottom: 6px; border-bottom: 1px dashed var(--border); }
.day-list { display: grid; gap: 8px; }
.ejercicio-tile { background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 10px; padding: 8px; display: flex; align-items: center; justify-content: space-between; gap: 8px; transition: transform .08s ease, border-color .15s ease, background-color .15s ease; }
.ejercicio-tile:hover { transform: translateY(-1px); border-color: var(--accent); background: rgba(255,255,255,0.06); cursor: pointer; }
.ejercicio-name { color: var(--text); font-size: 14px; font-weight: 500; }
.ejercicio-meta { color: var(--muted); font-size: 12px; }
.ejercicio-actions { display: inline-flex; align-items: center; gap: 6px; }
.ejercicio-actions .btn { padding: 6px 10px; font-size: 12px; border-radius: 8px; }

/* Panel flotante de edición de ejercicio */
#rutina-preview-float { background: var(--card) !important; border: 1px solid var(--border) !important; border-radius: 12px !important; padding: 10px !important; color: var(--text); width: 280px; }
#rutina-preview-float-title { font-size: 14px; font-weight: 600; color: var(--text); }
#rutina-preview-float label span { color: var(--muted); font-size: 12px; }
#rutina-preview-float input, #rutina-preview-float select { width: 100%; }
#rutina-preview-float .btn { padding: 6px 10px; font-size: 12px; }

/* Modal: cabecera y footer más compactos */
.modal-header { display: flex; align-items: center; justify-content: space-between; }
.modal-footer { display: flex; justify-content: flex-end; gap: 8px; }

/* Modales: backdrop y contenedor scrollable */
.modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: none; align-items: center; justify-content: center; padding: 16px; z-index: 999; }
.modal { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px; max-width: 960px; width: 100%; max-height: 85vh; overflow: auto; }
.modal-body { display: flex; flex-direction: column; gap: 12px; }
.modal-close { background: transparent; border: none; color: var(--muted); font-size: 18px; cursor: pointer; }

/* Badges de categoría */
.badge { display: inline-block; border-radius: 12px; padding: 4px 8px; font-size: 12px; border: 1px solid var(--border); }
.badge-cat-general { background: rgba(245, 158, 11, 0.12); color: var(--accent); border-color: rgba(245, 158, 11, 0.35); }
.badge-cat-fuerza { background: rgba(43, 138, 62, 0.12); color: #52d071; border-color: rgba(43, 138, 62, 0.35); }
.badge-cat-hipertrofia { background: rgba(30, 58, 138, 0.12); color: #6ea8ff; border-color: rgba(30, 58, 138, 0.35); }
.badge-cat-resistencia { background: rgba(148, 163, 184, 0.12); color: #93c5fd; border-color: rgba(148, 163, 184, 0.35); }
.badge-cat-fullbody, .badge-cat-full-body { background: rgba(99, 102, 241, 0.12); color: #a5b4fc; border-color: rgba(99, 102, 241, 0.35); }

/* Indicadores de orden en tabla */
.th-sortable { cursor: pointer; user-select: none; }
.th-sortable:hover { color: var(--accent); }
.th-sorted-asc::after { content: " \25B2"; }
.th-sorted-desc::after { content: " \25BC"; }

/* Formularios: filas */
.form-row { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
.form-row > label { min-width: 160px; color: var(--muted); }
.form-row > div { flex: 1; }

/* Tablas: filas y acciones */
table { width: 100%; border-collapse: collapse; }
th, td { border-bottom: 1px solid var(--border); padding: 10px; text-align: left; }
th { color: var(--muted); font-weight: 600; }
tr:hover td { background: rgba(255,255,255,0.03); }