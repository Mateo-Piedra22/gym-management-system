# =============================================================================
# GYM MANAGEMENT SYSTEM - PLANTILLA DE VARIABLES DE ENTORNO
# =============================================================================
# Este archivo contiene las variables de entorno requeridas para el sistema.
# Copiar este archivo a .env y completar con los valores reales.
# NUNCA commitear el archivo .env real al repositorio.

# =============================================================================
# BASE DE DATOS - CONEXIONES LOCAL Y REMOTA
# =============================================================================
DB_LOCAL_HOST=localhost
DB_LOCAL_PORT=5432
DB_LOCAL_DATABASE=gimnasio
DB_LOCAL_USER=postgres
DB_LOCAL_PASSWORD=your_local_password_here

DB_REMOTE_HOST=shuttle.proxy.rlwy.net
DB_REMOTE_PORT=45685
DB_REMOTE_DATABASE=railway
DB_REMOTE_USER=postgres
DB_REMOTE_PASSWORD=your_remote_password_here

# =============================================================================
# SEGURIDAD Y AUTENTICACIÓN
# =============================================================================
# Contraseña de acceso administrativo/desarrollador
DEV_PASSWORD=your_dev_password_here

# Token de sincronización entre sistemas
SYNC_UPLOAD_TOKEN=your_sync_token_here

# Secreto para sesiones de la aplicación web
WEBAPP_SESSION_SECRET=your_webapp_session_secret_here

# Contraseña del propietario/owner
OWNER_PASSWORD=your_owner_password_here

# =============================================================================
# API EXTERNAS
# =============================================================================
# Token de acceso para WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token_here

# Clave de autenticación para Tailscale (si se usa)
TAILSCALE_AUTH_KEY=your_tailscale_auth_key_here

# =============================================================================
# CONFIGURACIONES DE RED Y VPN
# =============================================================================
# IP pública del servidor (para DSN)
SERVER_PUBLIC_IP=your_server_public_ip_here

# =============================================================================
# CONFIGURACIONES DE LA APLICACIÓN
# =============================================================================
# Perfil de base de datos (local/remote)
DB_PROFILE=local

# URL base de la aplicación web
WEBAPP_BASE_URL=https://your-domain.up.railway.app

# URL del cliente
CLIENT_BASE_URL=your_client_base_url_here

# =============================================================================
# TAREAS PROGRAMADAS
# =============================================================================
# Habilitar tareas programadas
SCHEDULED_TASKS_ENABLED=true

# Intervalo de carga de sincronización (minutos)
UPLOADER_INTERVAL_MINUTES=3

# Habilitar reconciliación remota a local
RECONCILE_R2L_ENABLED=true

# =============================================================================
# REPLICACIÓN Y SINCRONIZACIÓN
# =============================================================================
# Nombre de la suscripción de replicación
REPLICATION_SUBSCRIPTION_NAME=gym_sub

# Nombre de la publicación de replicación
REPLICATION_PUBLICATION_NAME=gym_pub

# Si el remoto puede alcanzar el local
REMOTE_CAN_REACH_LOCAL=false

# =============================================================================
# TÚNEL PÚBLICO (PARA DESARROLLO LOCAL)
# =============================================================================
# Subdominio para túnel público
PUBLIC_TUNNEL_SUBDOMAIN=your-subdomain-here

# Habilitar túnel público
PUBLIC_TUNNEL_ENABLED=false

# =============================================================================
# OPCIONALES Y TIMEOUTS DE CONEXIÓN
# =============================================================================
# Parámetros específicos por perfil
DB_LOCAL_SSLMODE=prefer
DB_LOCAL_CONNECT_TIMEOUT=10
DB_LOCAL_APPLICATION_NAME=gym_management_system

DB_REMOTE_SSLMODE=require
DB_REMOTE_CONNECT_TIMEOUT=10
DB_REMOTE_APPLICATION_NAME=gym_management_system

# Fallbacks genéricos (si no se usan los específicos)
#DB_SSLMODE=prefer
#DB_CONNECT_TIMEOUT=10
#DB_APPLICATION_NAME=gym_management_system

# Timeouts de sesión (aplicados vía options)
DB_STATEMENT_TIMEOUT=4s
DB_LOCK_TIMEOUT=2s
DB_IDLE_IN_TRX_TIMEOUT=30s
DB_TIME_ZONE=America/Argentina/Buenos_Aires

# =============================================================================
# KEEPALIVES TCP (MEJORAN ESTABILIDAD EN REDES INESTABLES)
# =============================================================================
DB_KEEPALIVES_IDLE=30
DB_KEEPALIVES_INTERVAL=10
DB_KEEPALIVES_COUNT=3

# =============================================================================
# FALLBACKS GENÉRICOS (USO EN VERIFICACIONES Y HERRAMIENTAS)
# =============================================================================
# Estos valores genéricos se usan únicamente como respaldo por scripts
# de verificación. El sistema principal usa DB_LOCAL_* y DB_REMOTE_*.
DB_HOST=localhost
DB_PORT=5432
DB_NAME=gimnasio
DB_USER=postgres
DB_PASSWORD=your_local_password_here
DB_SSLMODE=prefer
DB_CONNECT_TIMEOUT=10
DB_APPLICATION_NAME=gym_management_system
