{% extends "base.html" %}
{% set _ = '' %}
{% block content %}
<div class="max-w-xl mx-auto space-y-4">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-semibold">{% if mode=='owner' %}Contraseña de dueño{% else %}Cambiar contraseña Admin{% endif %}</h1>
    <a href="/admin/" class="px-3 py-2 rounded-md bg-gray-900"><i class="fa-solid fa-house"></i><span class="ml-2">Inicio</span></a>
  </div>
  {% if mode=='owner' %}
  <div class="text-gray-400">Gimnasio: {{ sub }}</div>
  <form method="post" action="/admin/gyms/{{ gid }}/owner" class="grid gap-3">
    <label for="owner-new" class="text-sm text-gray-300">Nueva contraseña</label>
    <input id="owner-new" type="password" name="new_password" required oninput="var c=this.form.querySelector('[name=confirm_password]');if(c){c.setCustomValidity(c.value!==this.value?'Las contraseñas no coinciden':'')}" class="px-3 py-2 rounded-md border border-gray-700 bg-gray-950" />
    <label for="owner-confirm" class="text-sm text-gray-300">Confirmar contraseña</label>
    <input id="owner-confirm" type="password" name="confirm_password" required oninput="this.setCustomValidity(this.value!==this.form.querySelector('[name=new_password]').value?'Las contraseñas no coinciden':'')" class="px-3 py-2 rounded-md border border-gray-700 bg-gray-950" />
    <button type="submit" class="px-3 py-2 rounded-md bg-primary text-primary-foreground">Guardar</button>
  </form>
  {% else %}
  <form method="post" action="/admin/owner/password" class="grid gap-3">
    <label for="admin-current" class="text-sm text-gray-300">Contraseña actual</label>
    <input id="admin-current" type="password" name="current_password" required class="px-3 py-2 rounded-md border border-gray-700 bg-gray-950" />
    <label for="admin-new" class="text-sm text-gray-300">Nueva contraseña</label>
    <input id="admin-new" type="password" name="new_password" required oninput="var c=this.form.querySelector('[name=confirm_password]');if(c){c.setCustomValidity(c.value!==this.value?'Las contraseñas no coinciden':'')}" class="px-3 py-2 rounded-md border border-gray-700 bg-gray-950" />
    <label for="admin-confirm" class="text-sm text-gray-300">Confirmar contraseña</label>
    <input id="admin-confirm" type="password" name="confirm_password" required oninput="this.setCustomValidity(this.value!==this.form.querySelector('[name=new_password]').value?'Las contraseñas no coinciden':'')" class="px-3 py-2 rounded-md border border-gray-700 bg-gray-950" />
    <button type="submit" class="px-3 py-2 rounded-md bg-primary text-primary-foreground">Guardar</button>
  </form>
  {% endif %}
</div>
{% endblock %}